(this["webpackJsonpreact-material-admin"]=this["webpackJsonpreact-material-admin"]||[]).push([[29],{227:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a=104,c=280},238:function(e,t,n){"use strict";var a=n(253),c=n(227),r=n(103),i=n(1);t.a=function(e){var t=e.children,n=Object(r.b)().collapsed?c.a:c.b;return Object(i.jsx)(a.a,{color:"default",position:"fixed",sx:{width:{lg:"calc(100% - ".concat(n,"px)")},marginLeft:{lg:n}},children:t})}},239:function(e,t,n){"use strict";var a=n(224),c=n(331),r=n(222),i=n(242),o=n.n(i),s=n(103),l=n(1);t.a=function(e){var t=e.children,n=e.title,i=Object(s.b)().toggleDrawer;return Object(l.jsxs)(c.a,{sx:{px:{xs:3,sm:6}},children:[Object(l.jsx)(a.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,sx:{display:{lg:"none"},marginRight:2},children:Object(l.jsx)(o.a,{})}),Object(l.jsx)(r.a,{variant:"h2",component:"h1",sx:{flexGrow:1},children:n}),t]})}},746:function(e,t,n){"use strict";n.r(t);var a=n(25),c=n.n(a),r=n(44),i=n(15),o=n(328),s=n(182),l=n(458),u=n(329),d=n(180),j=n(222),b=n(650),x=n.n(b),p=n(366),g=n.n(p),h=n(0),m=n.n(h),O=n(141),f=n(74),v=n(105),w=n(238),I=n(239),y=n(641),S=n.n(y),k=n(91),T=n(1);t.default=function(){var e=Object(f.b)(),t=e.isLoggingOut,n=e.logout,a=JSON.parse(localStorage.getItem("venueInfo")),b=Object(h.useState)(localStorage.getItem("username")),p=Object(i.a)(b,2),y=(p[0],p[1],Object(v.b)()),D=Object(O.a)().t,F=Object(h.useState)(""),R=Object(i.a)(F,2),A=R[0],C=R[1];Object(h.useEffect)(Object(r.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("/api/venues/".concat(a.venueId,"/images"),"GET");case 2:if(null!==(t=e.sent)&&0!==t.length){e.next=6;break}return C(""),e.abrupt("return");case 6:console.log(t[0].image),C(t[0].image);case 8:case"end":return e.stop()}}),e)}))),[]);var J=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.a)("/api/venues/".concat(a.venueId,"/images"),"POST",{image:String(t),id:a.venueId});case 2:n=e.sent,console.log(n),n?C(t):y.error(D("common.errors.unexpected.subTitle"));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(T.jsxs)(m.a.Fragment,{children:[Object(T.jsx)(w.a,{children:Object(T.jsx)(I.a,{children:Object(T.jsx)(l.a,{"aria-label":"logout",color:"secondary",disabled:t,onClick:function(){n().catch((function(){return y.error(D("common.errors.unexpected.subTitle"))}))},children:Object(T.jsx)(x.a,{})})})}),Object(T.jsx)(u.a,{container:!0,spacing:12,children:Object(T.jsxs)(u.a,{item:!0,xs:12,md:12,marginTop:3,children:[Object(T.jsxs)(s.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",mb:6},children:[Object(T.jsx)(o.a,{sx:{bgcolor:"background.paper",mb:3,height:220,width:220},children:""===A||null===A?Object(T.jsx)(g.a,{sx:{fontSize:160}}):Object(T.jsx)("img",{width:"auto",height:220,src:"".concat(A)})}),Object(T.jsx)(j.a,{component:"div",variant:"h4",children:"".concat(null===a||void 0===a?void 0:a.venueName," ")}),Object(T.jsxs)("label",{htmlFor:"upload-photo",children:[Object(T.jsx)("input",{style:{display:"none"},id:"upload-photo",name:"upload-photo",type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.readAsDataURL(t),n.onload=function(){console.log(n.result),J(n.result)}}}}),Object(T.jsx)(d.a,{color:"secondary",variant:"contained",component:"span",sx:{mt:4},children:"Update Venue Image"})]})]}),Object(T.jsx)(s.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center",mb:6},children:Object(T.jsx)(S.a,{value:a?String(a.venueId):"QR Failed",size:256})})]})})]})}}}]);
//# sourceMappingURL=29.20ebd6b0.chunk.js.map